version: 1.0
runtime: corretto11
build:
  commands:
    pre-build:
      - sed -i "s~localhost:3306~$RDS:3306~g; s~username>petclinic</jdbc~username>petclinic</jdbc~g; s~password>petclinic</jdbc~password>p3tcl1n1c</jdbc~g" pom.xml
    build:
      - mvn clean package
    post-build:
      - mvn clean test
run:
  runtime-version: 11.0.13.08.1
  command: jetty:run-war
  network:
    port: 8080
